<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Базовые мета-теги -->
  <meta name="description" content="FakeImg - генератор плейсхолдеров изображений. Создавайте временные изображения любого размера через URL запросы.">
  <meta name="keywords" content="плейсхолдер, генератор изображений, fakeimg, placeholder, временные изображения, mockup, баннеры">
  <meta name="author" content="Karel Wintersky and Deepseek">
  <meta name="copyright" content="2025, Karel Wintersky with Deepseek assisting">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#3d4070">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="application-name" content="FakeImg">
  <meta name="msapplication-TileColor" content="#3d4070">

  <!-- OpenGraph / Facebook -->
  <meta property="og:title" content="FakeImg - Генератор плейсхолдеров изображений">
  <meta property="og:description" content="Создавайте временные изображения любого размера через простые URL запросы">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ваш-домен.ру">
  <meta property="og:image" content="https://ваш-домен.ру/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="FakeImg">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="FakeImg - Генератор плейсхолдеров изображений">
  <meta name="twitter:description" content="Создавайте временные изображения любого размера через простые URL запросы">
  <meta name="twitter:image" content="https://ваш-домен.ру/twitter-image.png">
  <meta name="twitter:site" content="@ваш-twitter">

  <!-- Дополнительные мета-теги -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="canonical" href="https://ваш-домен.ру">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%234a6bff' rx='10'/><rect x='14' y='22' width='60' height='40' fill='%23fff' stroke='%23333' stroke-width='2'/><rect x='25' y='25' width='15' height='10' fill='%23ff6b6b'/><rect x='45' y='25' width='15' height='10' fill='%236bff6b'/><rect x='25' y='40' width='35' height='15' fill='%23f0f0f0'/><path d='m81.156 79.754l10-10-10-10m10 10h-20' stroke='%23fff' stroke-width='4' stroke-linecap='round' fill='none'/></svg>" />

  <!-- Для мобильных устройств -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="FakeImg">

  <title>FakeImg — генератор плейсхолдеров</title>
  <style>
    :root {
      --primary: #3d4070;
      --secondary: #f9f06b;
      --text: #333;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
      padding: 0rem;
      color: var(--text);
    }
    header {
      text-align: center;
      margin-bottom: 2rem;
    }
    h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    .tagline {
      font-size: 1.2rem;
      opacity: 0.8;
    }
    .generator {
      background: #f5f5f5;
      padding: 1.5rem;
      border-radius: 8px;
    }
    .form-group {
      margin-bottom: 1rem;
    }
    .form-row {
      display: flex;
      gap: 1rem;
    }
    .form-row .form-group {
      flex: 1;
      margin-bottom: 0;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }
    input::placeholder {
      color: #999;
      font-style: italic;
    }

    /* Стили для блока пресетов */
    .size-presets {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .size-presets .form-group {
      flex: 1;
    }
    .size-presets label {
      font-size: 0.9em;
      color: #555;
    }

    /* Стили для предпросмотра */
    .preview-container {
      display: flex;
      gap: 2rem;
      margin: 2rem 0;
      align-items: center;
      justify-content: center;
    }
    .preview-image {
      flex: 1;
      max-width: 60%;
      border: 1px dashed #ccc;
      background: repeating-conic-gradient(#eee 0% 25%, #fff 0% 50%) 50%/20px 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      /* preview by click */
      cursor: pointer;
      transition: transform 0.2s;
    }

    .preview-image img {
      max-width: 100%;
      max-height: 100%;
      display: block;
    }
    .preview-details {
      flex: 1;
    }
    .preview-details h3 {
      margin-top: 0;
      color: var(--primary);
    }
    .preview-meta {
      font-size: 0.9em;
      color: #666;
    }

    .result-url {
      background: #eee;
      padding: 1rem;
      border-radius: 4px;
      word-break: break-all;
      font-family: monospace;
      margin-top: 1rem;
    }
    .domain-part {
      color: #666;
    }
    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 1rem;
    }
    button:hover {
      opacity: 0.9;
    }
    .color-wrapper {
      display: flex;
      gap: 10px;
      margin-bottom: 8px;
    }
    .color-wrapper input[type="color"] {
      width: 50px;
      height: 40px;
      padding: 2px;
      border: 1px solid #ddd;
      border-radius: 4px;
      cursor: pointer;
    }

    @media (max-width: 600px) {
      .size-presets,
      .preview-container {
        flex-direction: column;
      }
      .preview-image {
        max-width: 100%;
        width: 100%;
      }
    }

    /* Кнопка "копировать" после инпута */
    .result-url {
      background: #eee;
      padding: 1rem;
      border-radius: 4px;
      word-break: break-all;
      font-family: monospace;
      margin-top: 1rem;
      position: relative;
      padding-right: 80px; /* Место для кнопки */
      border: 1px solid black;
      font-size: 120%;
    }

    .copy-btn {
      position: absolute;
      right: 10px;
      top: 20%;
      transform: translateY(-50%);
      /*background: #3d4070;*/
      background: white;
      color: black;
      border: none;
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .copy-btn:hover {
      /*opacity: 0.5;*/
      color: black;
      background-color: #cccccc;
    }

    .copy-btn::before {
      /*content: "⎘";*/
      content: "Copy";
      font-size: 1em;
    }

    .copy-success {
      position: absolute;
      right: 10px;
      top: -25px;
      color: #4CAF50;
      font-size: 0.9em;
      opacity: 0;
      transition: opacity 0.3s;
      background: white;
      padding: 2px 8px;
      border-radius: 4px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .copy-success.visible {
      opacity: 1;
    }

    .domain-part {
      color: #666;
    }

    /* on image click to new window */
    .preview-image:hover {
      transform: scale(1.02);
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    .preview-image::after {
      content: "↗";
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 12px;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .preview-image:hover::after {
      opacity: 1;
    }
  </style>
</head>
<body>
<header>
  <h1>FakeImg</h1>
  <p class="tagline">Генератор плейсхолдеров</p>
</header>

<div class="generator">
  <!-- Блок с пресетами размеров -->
  <div class="size-presets">
    <div class="form-group">
      <label>Commonly used</label>
      <select class="preset-select" data-type="square">
        <option value="">Select size...</option>
        <option value="50x50">50 × 50</option>
        <option value="60x60">60 × 60</option>
        <option value="80x80">80 × 80</option>
        <option value="100x100">100 × 100</option>
        <option value="120x120">120 × 120</option>
        <option value="150x150">150 × 150</option>
        <option value="180x180">180 × 180</option>
        <option value="200x200">200 × 200</option>
        <option value="240x240">240 × 240</option>
        <option value="300x300">300 × 300</option>
        <option value="400x400">400 × 400</option>
      </select>
    </div>

    <div class="form-group">
      <label>Common banners</label>
      <select class="preset-select" data-type="banner">
        <option value="">Select size...</option>
        <option value="728x90">728 × 90</option>
        <option value="468x60">468 × 60</option>
        <option value="350x80">350 × 80</option>
        <option value="350x160">350 × 160</option>
        <option value="350x240">350 × 240</option>
        <option value="336x280">336 × 280</option>
        <option value="320x50">320 × 50</option>
        <option value="300x250">300 × 250</option>
        <option value="250x250">250 × 250</option>
        <option value="234x60">234 × 60</option>
        <option value="224x33">224 × 33</option>
        <option value="160x600">160 × 600</option>
        <option value="125x125">125 × 125</option>
        <option value="120x60">120 × 60</option>
        <option value="120x90">120 × 90</option>
        <option value="120x600">120 × 600</option>
        <option value="100x60">100 × 60</option>
        <option value="100x100">100 × 100</option>
        <option value="88x31">88 × 31</option>
        <option value="80x60">80 × 60</option>
      </select>
    </div>

    <div class="form-group">
      <label>Web creation</label>
      <select class="preset-select" data-type="web">
        <option value="">Select size...</option>
        <option value="16x16">16 × 16 (favicon)</option>
        <option value="57x57">57 × 57 (Apple)</option>
        <option value="72x72">72 × 72 (Apple)</option>
        <option value="114x114">114 × 114 (Apple)</option>
        <option value="320x240">320 × 240 (QVGA)</option>
        <option value="640x480">640 × 480 (VGA)</option>
        <option value="800x600">800 × 600 (SVGA)</option>
        <option value="850x315">850 × 315 (Facebook)</option>
        <option value="180x180">180 × 180 (Facebook)</option>
      </select>
    </div>
  </div>

  <!-- Основные поля формы -->
  <div class="form-row">
    <div class="form-group">
      <label for="width">Ширина (px)</label>
      <input type="number" id="width" value="300" min="1" max="2000">
    </div>
    <div class="form-group">
      <label for="height">Высота (px)</label>
      <input type="number" id="height" value="150" min="1" max="2000">
    </div>
  </div>

  <div class="form-group">
    <label for="bgColor">Цвет фона (HEX)</label>
    <div class="color-wrapper">
      <input type="text" id="bgColor" value="3d4070" placeholder="Без #">
      <input type="color" id="bgColorPicker" value="#3d4070">
    </div>
  </div>

  <div class="form-group">
    <label for="textColor">Цвет текста (HEX)</label>
    <div class="color-wrapper">
      <input type="text" id="textColor" value="ffffff" placeholder="Без #">
      <input type="color" id="textColorPicker" value="#ffffff">
    </div>
  </div>

  <div class="form-group">
    <label for="fontSize">Размер шрифта (pt)</label>
    <input type="number" id="fontSize" value="30" min="1" max="100">
  </div>

  <div class="form-group">
    <label for="text">Текст</label>
    <input type="text" id="text" placeholder="По умолчанию 300×150">
  </div>

  <div class="form-group">
    <label for="format">Формат</label>
    <select id="format">
      <option value="jpg">JPG</option>
      <option value="png">PNG</option>
      <option value="webp">WebP</option>
    </select>
  </div>

  <div class="form-group">
    <label>URL:</label>
    <div class="result-url">
      <span class="domain-part" id="domainDisplay"></span><span id="pathDisplay"></span>
      <button class="copy-btn" id="copyBtn" title="Скопировать в буфер обмена"></button>
      <span class="copy-success" id="copySuccess">Скопировано!</span>
    </div>
  </div>

  <!-- Блок предпросмотра -->
  <div class="preview-container">
    <div class="preview-image">
      <a id="previewLink" target="_blank" rel="noopener noreferrer">
        <img id="previewImg" src="/30/3d4070/ffffff/300x150.png" alt="Превью">
      </a>
    </div>
    <!--<div class="preview-details">
      <h3>Предпросмотр</h3>
      <div class="preview-meta">
        <div>Размер: <span id="previewSize">300 × 150px</span></div>
        <div>Формат: <span id="previewFormat">PNG</span></div>
        <div>Цвет фона: <span id="previewBgColor">#3d4070</span></div>
        <div>Цвет текста: <span id="previewTextColor">#ffffff</span></div>
      </div>
    </div>-->
  </div>

</div>

<script>
  function copyToClipboard(text) {
    // Создаем временный textarea элемент
    const textarea = document.createElement('textarea');
    textarea.value = text;
    textarea.style.position = 'fixed';  // Чтобы не было прокрутки страницы
    document.body.appendChild(textarea);
    textarea.select();

    try {
      // Пробуем использовать современный API
      if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => {
          showCopySuccess();
        }).catch(err => {
          fallbackCopy(text);
        });
      } else {
        // Fallback для старых браузеров
        fallbackCopy(text);
      }
    } catch (err) {
      fallbackCopy(text);
    } finally {
      // Удаляем textarea в любом случае
      document.body.removeChild(textarea);
    }
  }

  function fallbackCopy(text) {
    try {
      // Старый метод execCommand
      const success = document.execCommand('copy');
      if (success) {
        showCopySuccess();
      } else {
        console.error('Не удалось скопировать текст');
      }
    } catch (err) {
      console.error('Ошибка копирования: ', err);
      alert('Скопируйте URL вручную: ' + text);
    }
  }

  function showCopySuccess() {
    const copySuccess = document.getElementById('copySuccess');
    copySuccess.classList.add('visible');
    setTimeout(() => {
      copySuccess.classList.remove('visible');
    }, 2000);
  }

  function bindColorPicker(textId, pickerId) {
    const textInput = document.getElementById(textId);
    const picker = document.getElementById(pickerId);

    textInput.addEventListener('input', function() {
      if (this.value.length === 3 || this.value.length === 6) {
        picker.value = this.value.startsWith('#') ? this.value : `#${this.value}`;
      }
    });

    picker.addEventListener('input', function() {
      textInput.value = this.value.replace('#', '');
      updatePreview();
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    // Получаем текущий домен
    const currentDomain = window.location.origin;
    document.getElementById('domainDisplay').textContent = currentDomain;

    // Элементы формы
    const widthInput = document.getElementById('width');
    const heightInput = document.getElementById('height');
    const textInput = document.getElementById('text');
    const bgColorInput = document.getElementById('bgColor');
    const textColorInput = document.getElementById('textColor');
    const formatInput = document.getElementById('format');

    // Обновление плейсхолдера
    function updatePlaceholder() {
      const width = widthInput.value || '300';
      const height = heightInput.value || '150';
      textInput.placeholder = `По умолчанию ${width}×${height}`;

      if (!textInput.value) {
        updatePreview();
      }
    }

    // Генерация URL и превью
    function updatePreview() {
      const width = widthInput.value || '150';
      const height = heightInput.value || '150';
      const bgColor = bgColorInput.value || '3d4070';
      const textColor = textColorInput.value || 'ffffff';
      const fontSize = document.getElementById('fontSize').value || '30';
      const text = textInput.value;
      const format = formatInput.value;

      let path = `/${fontSize}/${bgColor}/${textColor}/${width}x${height}.${format}`;
      if (text) path += `?text=${encodeURIComponent(text)}`;

      document.getElementById('pathDisplay').textContent = path;
      document.getElementById('previewImg').src = path;

      // Обновляем изображение и ссылку
      const fullUrl = window.location.origin + path;
      document.getElementById('previewImg').src = path;
      document.getElementById('previewLink').href = fullUrl;

      // Обновляем метаданные предпросмотра
      const $previewSize = document.getElementById('previewSize');
      const $previewFormat = document.getElementById('previewSize');
      const $previewBgColor = document.getElementById('previewBgColor');
      const $previewTextColor = document.getElementById('previewTextColor');

      if ($previewSize) $previewSize.textContent = `${width} × ${height}px`
      if ($previewFormat) $previewFormat.textContent = format.toUpperCase();
      if ($previewBgColor) $previewBgColor.textContent = `#${bgColor}`;
      if ($previewTextColor) $previewTextColor.textContent = `#${textColor}`;
    }

    // новая кнопка копирования
    const copyBtn = document.getElementById('copyBtn');
    const copySuccess = document.getElementById('copySuccess');

    copyBtn.addEventListener('click', function() {
      const url = document.getElementById('domainDisplay').textContent +
              document.getElementById('pathDisplay').textContent;
      copyToClipboard(url);
    });

    // Обработка выбора пресетов
    document.querySelectorAll('.preset-select').forEach(select => {
      select.addEventListener('change', function() {
        if (this.value) {
          const [width, height] = this.value.split('x');
          widthInput.value = width;
          heightInput.value = height;

          // Обновляем плейсхолдер текста
          updatePlaceholder();

          // Сбрасываем другие селекты
          document.querySelectorAll('.preset-select').forEach(s => {
            if (s !== this) s.value = '';
          });

          updatePreview();
        }
      });
    });

    // Слушатели изменений
    widthInput.addEventListener('input', updatePlaceholder);
    heightInput.addEventListener('input', updatePlaceholder);

    const inputs = ['bgColor', 'textColor', 'fontSize', 'text', 'format'];
    inputs.forEach(id => {
      document.getElementById(id).addEventListener('input', updatePreview);
    });

    // Color pickers


    bindColorPicker('bgColor', 'bgColorPicker');
    bindColorPicker('textColor', 'textColorPicker');

    // Инициализация
    updatePlaceholder();
    updatePreview();

    // Обработка копирования URL


  });
</script>
</body>
</html>